<!doctype html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>מאגר הידע של הנרי – AI</title>
    <meta name="description" content="כל העדכונים, הטיפים והקישורים מערוץ הטלגרם של הנרי – בציר זמן מהיר, חיפוש חכם ותגיות לחיצות." />

    <!-- PWA -->
    <link rel="manifest" href="/manifest.webmanifest" />
    <meta name="theme-color" content="#0f172a" />

    <!-- Icons -->
    <link rel="icon" href="/icons/icon-192.png" />
    <link rel="apple-touch-icon" href="/icons/icon-512.png" />

    <!-- Open Graph / Twitter -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="מאגר הידע של הנרי – AI" />
    <meta property="og:description" content="כל העדכונים, הטיפים והקישורים מערוץ הטלגרם של הנרי – בציר זמן מהיר, חיפוש חכם ותגיות לחיצות." />
    <meta property="og:image" content="/og-cover.png" />
    <meta property="og:locale" content="he_IL" />
    <meta name="twitter:card" content="summary_large_image" />

    <!-- JSON-LD breadcrumb/basic site schema (optional minimal) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "מאגר הידע של הנרי – AI",
        "url": "https://example.com/",
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://example.com/#/search?q={query}",
          "query-input": "required name=query"
        }
      }
    </script>

    <link rel="stylesheet" href="/styles.css" />
    <script>
      // מסמן שאין JS כבוי
      document.documentElement.classList.add('js');
    </script>
  </head>
  <body class="app">
    <header class="topbar" role="banner">
      <div class="brand">
        <a href="#/timeline" class="brand-link" aria-label="דף הבית - ציר הזמן">🧠 הנרי • AI</a>
      </div>

      <div class="top-actions" role="navigation" aria-label="ניווט ראשי">
        <button class="nav-btn" data-view="timeline" aria-current="page">ציר זמן</button>
        <button class="nav-btn" data-view="categories">קטגוריות</button>
        <button class="nav-btn" data-view="advanced-search">חיפוש מתקדם</button>
        <button class="nav-btn" id="surpriseBtn">הפתיעו אותי</button>
      </div>

      <div class="top-tools">
        <form id="quickSearchForm" role="search" aria-label="חיפוש מהיר">
          <input id="quickSearchInput" type="search" placeholder="חיפוש מהיר..." autocomplete="off" />
        </form>
        <button id="themeToggle" class="icon-btn" aria-label="החלפת מצב תצוגה">🌓</button>
      </div>
    </header>

    <main id="main" tabindex="-1">
      <!-- Timeline default view -->
      <section id="timeline-view" class="view" aria-labelledby="timelineHeading">
        <h1 id="timelineHeading" class="visually-hidden">ציר זמן</h1>
        <div id="timelineList" class="timeline-list" aria-live="polite"></div>
        <div class="load-more-wrap">
          <button id="loadMoreBtn" class="load-more">טען עוד</button>
        </div>
      </section>

      <section id="categories-view" class="view" hidden aria-labelledby="categoriesHeading">
        <h2 id="categoriesHeading">קטגוריות</h2>
        <div id="categoriesWrap" class="categories-grid"></div>
      </section>

      <section id="advanced-search-view" class="view" hidden aria-labelledby="advancedSearchHeading">
        <h2 id="advancedSearchHeading">חיפוש מתקדם</h2>
        <form id="advancedSearchForm" class="adv-form">
          <div class="form-row">
            <label for="advQuery">מילות חיפוש</label>
            <input id="advQuery" type="search" placeholder="לא חובה – אפשר לסנן לפי קטגוריה ותאריך בלבד" />
          </div>
          <div class="form-row">
            <label for="advCategory">קטגוריה</label>
            <select id="advCategory">
              <option value="">הכל</option>
            </select>
          </div>
          <div class="form-row">
            <label for="advFrom">מתאריך</label>
            <input id="advFrom" type="date" />
          </div>
          <div class="form-row">
            <label for="advTo">עד תאריך</label>
            <input id="advTo" type="date" />
          </div>
          <div class="form-actions">
            <button type="submit" class="primary">חפש</button>
            <button type="reset" id="advReset">איפוס</button>
          </div>
        </form>
        <div id="searchSummary" class="search-summary" aria-live="polite"></div>
        <div id="searchResults" class="results-list"></div>
      </section>
    </main>

    <!-- Post modal -->
    <div id="postModal" class="modal" hidden aria-hidden="true" aria-labelledby="modalTitle" role="dialog">
      <div class="modal-overlay" data-close-modal></div>
      <div class="modal-card" role="document">
        <button class="modal-close" data-close-modal aria-label="סגירת חלון">✕</button>
        <article id="modalContent"></article>
        <footer class="modal-actions">
          <button id="modalShare" class="icon-btn">🔗 שיתוף</button>
          <button id="modalNextRandom" class="icon-btn">🎲 עוד אחד</button>
        </footer>
      </div>
    </div>

    <button id="backToTop" class="back-to-top" aria-label="חזרה לראש העמוד" hidden>↑</button>

    <footer class="site-footer">
      <small>
        עדכון אחרון: <time id="lastUpdated" datetime=""></time> •
        <a href="/rss.xml">RSS</a> • <a href="/sitemap.xml">Sitemap</a>
      </small>
    </footer>

    <noscript>
      מומלץ לאפשר JavaScript כדי לצפות בציר הזמן ובחיפוש. ניתן גם לעיין ב־RSS.
    </noscript>

    <script type="module" src="/app.js"></script>
  </body>
</html>
